<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Model Loader Test</title>
<style>body{margin:0;background:#0b1522;color:#e6eef8;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR",sans-serif}.main{max-width:900px;margin:16px auto;padding:12px}.card{background:rgba(255,255,255,0.06);padding:12px;border-radius:8px}</style>
<script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
</head>
<body>
<div class="main">
  <div class="card">
    <div id="status">모델 로드 상태: 대기 중...</div>
    <div style="margin-top:8px;font-size:13px;color:#a9c6e9">경로 후보: <code>./yolov8n.onnx</code>, <code>./model/yolov8n.onnx</code></div>
  </div>
</div>
<script>
(function(){
  var status=document.getElementById('status');
  function set(t){ status.textContent=t; }
  set('모델 로드 상태: 로딩 시도 중...');
  var list=['./yolov8n.onnx','./model/yolov8n.onnx'];
  (function tryAt(i){
    if(i>=list.length){ set('모델 로드 상태: 실패'); return; }
    fetch(list[i]).then(function(resp){ if(!resp.ok) throw new Error('http '+resp.status); return resp.arrayBuffer(); })
    .then(function(ab){ return ort.InferenceSession.create(ab,{executionProviders:['wasm','webgl']}); })
    .then(function(sess){ window._sess=sess; set('모델 로드 상태: 성공 ('+list[i]+')'); })
    .catch(function(){ tryAt(i+1); });
  })(0);
})();
</script>
</body>
</html>
