:root{ --bg:#0f1724; --card:#0b1220; --accent:#0ea5ff; --text:#e6eef8; }
*{ box-sizing:border-box; }

html,body{
  height:100%;
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR",sans-serif;
  background:linear-gradient(180deg,#071024,#0b1522);
  color:var(--text);
}

.app{ max-width:1100px; margin:12px auto; padding:12px; }
header h1{ margin:0; font-size:1.4rem; }
.subtitle{ margin:4px 0 12px; color:#bcd7f7; }

.controls{
  background:rgba(255,255,255,0.03);
  padding:10px;
  border-radius:10px;
  margin-bottom:12px;
}
.row{ display:flex; gap:8px; flex-wrap:wrap; }
.row.small{ margin-top:8px; font-size:0.9rem; }

.file-btn{ background:var(--card); padding:8px 10px; border-radius:8px; cursor:pointer; }
.file-btn input{ display:none; }
button{ background:var(--accent); border:0; color:#04233a; padding:8px 10px; border-radius:8px; cursor:pointer; }

.workspace{ display:flex; gap:12px; align-items:flex-start; }

/* ★ 핵심: 표시 영역에 높이(or 비율)를 부여해 업로드 직후 비디오가 보이도록 함 */
.video-wrap{
  position:relative;
  flex:1;
  min-width:260px;
  border-radius:8px;
  overflow:hidden;
  background:#000;

  /* 방법 A: 고정 높이 */
  height:420px;
  max-height:70vh;

  /* 방법 B(주석 해제시 사용): 비율 기반
     aspect-ratio: 16 / 9;
     min-height:240px;
     max-height:70vh;
  */
}

/* 겹쳐 표시되는 레이어 */
.video-wrap > video,
.video-wrap > img,
.video-wrap > canvas{
  position:absolute;
  left:0; top:0;
  width:100%; height:100%;
  display:block;
}

video{ width:100%; height:100%; display:block; z-index:1; }
img#framePreview{ z-index:2; pointer-events:none; object-fit:contain; }
canvas#overlay{ position:absolute; left:0; top:0; touch-action:none; z-index:3; pointer-events:auto; }

/* 초기에는 프리뷰/오버레이를 숨겨 비디오가 가려지지 않도록 함 */
#framePreview,
#overlay{
  display:none;
  visibility:hidden;
}

.analysis{ width:320px; background:rgba(255,255,255,0.03); padding:10px; border-radius:8px; }
#charts canvas{ width:100% !important; height:200px; }

footer{ margin-top:12px; color:#9fb7d9; }
.controls .hint{ margin-top:6px; }

@media (max-width:800px){
  .workspace{ flex-direction:column; }
  .analysis{ width:100%; }
}

.hint{ font-size:0.9rem; color:#a9c6e9; }

/* 탭 */
.tabs{ display:flex; gap:6px; margin-bottom:10px; }
.tab{ background:rgba(255,255,255,0.03); padding:8px 10px; border-radius:8px; cursor:pointer; }
.tab.active{ background:linear-gradient(90deg,#06b6d4,#4fd1c5); color:#002733; }

.tab-content{ padding:8px; background:rgba(255,255,255,0.02); border-radius:8px; }
.big{ background:#06b6d4; color:#002733; padding:10px 12px; border-radius:8px; font-weight:600; }
.frame-nav button{ padding:6px 10px; }
